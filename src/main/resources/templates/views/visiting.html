<div th:fragment="visiting" xmlns:th="http://www.w3.org/1999/xhtml">
    <div>
        <div th:text="'Вихователь: ' + ${educator.surname} + ' ' + ${educator.name} + ' ' + ${educator.fatherName}"></div>
    </div>
    <div>
        <form action="/visiting" method="post">
            <table>
                <tr>
                    <th>ім'я</th>
                    <th>присутній</th>
                    <th>відсутній</th>
                    <th>дата та час</th>
                </tr>

                <tr th:each="child, itemStat : ${childList}">
                    <input type="hidden" th:name="'visitingList[' + ${itemStat.index} + '].id'" th:value="${child.id}">
                    <td><input type="text" th:name="'visitingList[' + ${itemStat.index} + '].name'" th:value="${child.surname} + ' ' + ${child.name}" readonly></td>
                    <td><input type="radio" th:name="'visitingList[' + ${itemStat.index} + '].presence'" value="1" th:onclick="'document.getElementById(\'' + 'visiting' + ${itemStat.index} + '\').value = new Intl.DateTimeFormat(\'en-GB\', { dateStyle: \'short\', timeStyle: \'medium\' }).format(Date.now());
                    document.getElementById(\'' + 'visiting' + ${itemStat.index} + '\').className = \'style_3\''"></td>
                    <td><input type="radio" th:name="'visitingList[' + ${itemStat.index} + '].presence'" value="0" th:onclick="'document.getElementById(\'' + 'visiting' + ${itemStat.index} + '\').value = new Intl.DateTimeFormat(\'en-GB\', { dateStyle: \'short\', timeStyle: \'medium\' }).format(Date.now());
                    document.getElementById(\'' + 'visiting' + ${itemStat.index} + '\').className = \'style_4\''"></td>
                    <td><input type="text" th:id="'visiting' + ${itemStat.index}" th:name="'visitingList[' + ${itemStat.index} + '].visitingDate'" th:value="${currentDate}" readonly class="style_2"></td>
                    <input type="hidden" th:name="'visitingList[' + ${itemStat.index} + '].loggerId'" th:value="${educator.id}">
                </tr>

            </table>
            <input type="submit" value="Submit">
            <input type="reset" value="Reset" onclick="
            var elements = document.getElementsByClassName('style_3');
			for (var k = elements.length - 1; k >= 0; k--) {
			    elements[k].className = 'style_2'
			}
			var elements = document.getElementsByClassName('style_4');
			for (var k = elements.length - 1; k >= 0; k--) {
			    elements[k].className = 'style_2'
			}">
        </form>
    </div>
</div>